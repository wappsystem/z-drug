<div id=D__ID>
    <!--third html start -->
    <div class="container mt-95 mb-3">
        <div class="row">
            <!-- form container start -->
            <div class="col-12 col-lg-12 col-md-12 col-sm-12 mx-auto formbox">
                <div class="row">
                    <div class="col-12">
                        <!-- form start -->
                        <form id="F__ID">
                            <h3>PVT Upload and Read</h3>
                            <!-- participant part for all tsak forms -------------------->
                            <div id="participant_div__ID">
                                <div class="form-group">
                                    <fieldset class="subquestions">
                                        <label><span class="">Participant</span>
                                            <input type=text name="Participant" class=form-control id=Participant__ID
                                                data-id="Participant" />
                                        </label><br>
                                        <label><span class="">Participant ID</span>
                                            <input type=text name="Participant_uid" class=form-control readonly />
                                        </label>
                                    </fieldset>
                                </div>
                            </div>
                            <!-- form group -->
                            <div class="row px-4">
                                <div class='col'>
                                    <label><span class="">Select a file</span></label>
                                    <div class="form-control">
                                        <u style='cursor:pointer' id=link_File_Name__ID></u>
                                        <br>
                                        <input type="file" name=File_Name style="margin-top:6px" /> <button
                                            type="button" id=x_File_Name__ID>Remove</button>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <button type="submit" id="submit__ID" class="btn btn-primary btn-lg">Submit</button>
                            <div class="form-group">
                                <div class="pb-3">
                                    <label><span>Set Status</span></label>
                                    <fieldset class="">
                                        <label class="radiobuttons">
                                            <input type="radio" name="_status" value="#FF0000">
                                            <span class="checkmark"
                                                style="background-color:#FF0000"></span>&nbsp;</label>
                                        <label class="radiobuttons">
                                            <input type="radio" name="_status" value="#FFCC00">
                                            <span class="checkmark"
                                                style="background-color:#FFCC00"></span>&nbsp;</label>
                                        <label class="radiobuttons">
                                            <input type="radio" name="_status" value="#00FF00">
                                            <span class="checkmark"
                                                style="background-color:#00FF00"></span>Manually&nbsp;&nbsp;</label>
                                        <label class="radiobuttons">
                                            <input type="radio" name="_status" value="" checked>
                                            <span class="checkmark"
                                                style="background-color:#C9C9C9"></span>Automatically</label>
                                    </fieldset>
                                </div>
                            </div>
                            <hr>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Subject ID</span>
                                        <input class="form-control" type="text" name="PVT_Subject_ID" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Trial No.</span>
                                        <input class="form-control" type="text" name="PVT_Trial_No" />
                                    </label>
                                </div>
                            </div>
                            <hr>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Trial Date Time</span>
                                        <input class="form-control" type="text" name="PVT_Trial_Date_Time" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Study</span>
                                        <input class="form-control" type="text" name="PVT_Study" />
                                    </label>
                                </div>
                            </div>
                            <hr>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Subj. Initials</span>
                                        <input class="form-control" type="text" name="PVT_Subj_Initials" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Exp. Initials</span>
                                        <input class="form-control" type="text" name="PVT_Exp_Initials" />
                                    </label>
                                </div>
                            </div>
                            <hr>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>ISI Minimum</span>
                                        <input class="form-control" type="text" name="PVT_ISIMin" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>ISI Maximum</span>
                                        <input class="form-control" type="text" name="PVT_ISIMax" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Hand</span>
                                        <input class="form-control" type="text" name="PVT_HandUsed" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Trial Length</span>
                                        <input class="form-control" type="text" name="PVT_TotalLength" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Sleepy Pre</span>
                                        <input class="form-control" type="text" name="PVT_PreVAS" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Sleepy Post</span>
                                        <input class="form-control" type="text" name="PVT_PostVAS" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Good R's</span>
                                        <input class="form-control" type="text" name="PVT_GoodRs" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Mean RT</span>
                                        <input class="form-control" type="text" name="PVT_MeanRT" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>SD RT</span>
                                        <input class="form-control" type="text" name="PVT_SDRT" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Median RT</span>
                                        <input class="form-control" type="text" name="PVT_MedianRT" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Minimum RT</span>
                                        <input class="form-control" type="text" name="PVT_MinRT" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Maximum RT</span>
                                        <input class="form-control" type="text" name="PVT_MaxRT" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Mean RRT</span>
                                        <input class="form-control" type="text" name="PVT_MeanRRT" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>SD RRT</span>
                                        <input class="form-control" type="text" name="PVT_SDRRT" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Lapses (RT > 500ms)</span>
                                        <input class="form-control" type="text" name="PVT_Lapses" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Lap (SQR XFRM)</span>
                                        <input class="form-control" type="text" name="PVT_Lap" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>RTotal Errors</span>
                                        <input class="form-control" type="text" name="PVT_TotalErrors" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>RT &lt; 100 ms</span>
                                        <input class="form-control" type="text" name="PVT_RTLess100" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Wrong key R's</span>
                                        <input class="form-control" type="text" name="PVT_WrongKey" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>False Starts (c)</span>
                                        <input class="form-control" type="text" name="PVT_FalseStartsCorrKey" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>False Starts (e)</span>
                                        <input class="form-control" type="text" name="PVT_FalseStartsInCorrKey" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Key Held &gt; 3 s</span>
                                        <input class="form-control" type="text" name="PVT_KeyHeld" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>RNo R for 30s</span>
                                        <input class="form-control" type="text" name="PVT_NoR30sec" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Distrib. Asym.</span>
                                        <input class="form-control" type="text" name="PVT_DistribAsym" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Mean F RT</span>
                                        <input class="form-control" type="text" name="PVT_MeanFRT" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>SD F RT</span>
                                        <input class="form-control" type="text" name="PVT_SDFRT" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Mean F RRT</span>
                                        <input class="form-control" type="text" name="PVT_MeanFRRT" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>SD F RRT</span>
                                        <input class="form-control" type="text" name="PVT_MeanSDFRRT" />
                                    </label>
                                </div>
                            </div>
                            <hr>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Mean S RT</span>
                                        <input class="form-control" type="text" name="PVT_MeanSRT" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>SD S RT</span>
                                        <input class="form-control" type="text" name="PVT_SDSRT" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Mean S RRT</span>
                                        <input class="form-control" type="text" name="PVT_MeanSRRT" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>SD S RRT</span>
                                        <input class="form-control" type="text" name="PVT_SDSRRT" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>RRT Slope</span>
                                        <input class="form-control" type="text" name="PVT_RRTSlope" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>RRT Intcpt</span>
                                        <input class="form-control" type="text" name="PVT_RRTIntcpt" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>RRT R2</span>
                                        <input class="form-control" type="text" name="PVT_RRTR2" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Ci of Slope</span>
                                        <input class="form-control" type="text" name="PVT_CiSlope" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>Std Err of Line</span>
                                        <input class="form-control" type="text" name="PVT_STdErrOfLine" />
                                    </label>
                                </div>
                            </div>
                            <div class='row px-4'>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>t vs Zero Slope</span>
                                        <input class="form-control" type="text" name="PVT_tVsZeroSlope" />
                                    </label>
                                </div>
                                <div class="col-sm-12 col-lg-6">
                                    <label class=''><span class=''>% Change</span>
                                        <input class="form-control" type="text" name="PVT_PercentChange" />
                                    </label>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        //---------------------------------------------
        function F__ID() {
            //-------------------------------------
            //-------------------------------------
            VmInclude: __COMPONENT__/f/form.01.js
            VmInclude:__CURRENT_PATH__/shared-form.js
            //-------------------------------------
            m.old_load = m.load;
            m.load = function () {
                m.old_load();
                m.set_file_link("File_Name");
            }
            //-------------------------------------
            $('input[name=File_Name]').on('change', function (evt) {
                if (this.files.length == 1) {
                    file_process(this.files[0])
                }
            })
            //-------------------------------------
            var file_process = function (file) {
                var reader = new FileReader();
                reader.onload = (function (e) {
                    var contents = e.target.result;
                    var lines=contents.replace(/"/g,'').replace(/\r/,'\n').replace(/\n\n/,'\n').replace(/\t/g,',').split('\n');
                    if(lines.length>=2){
                        var header=lines[0].split(',');
                        var row=lines[1].split(',');
                        for(i=0;i<header.length;i++){
                            switch(header[i]) {
                                case "Subject ID": $('input[name="PVT_Subject_ID"]').val(row[i]);break;
                                case "Trial No.": $('input[name="PVT_Trial_No"]').val(row[i]);break;
                                case "Trial Date_Time": $('input[name="PVT_Trial_Date_Time"]').val(row[i]);break;
                                case "Study": $('input[name="PVT_Study"]').val(row[i]);break;
                                case "Subj. Initials": $('input[name="PVT_Subj_Initials"]').val(row[i]);break;
                                case "Exp. Initials": $('input[name="PVT_Exp_Initials"]').val(row[i]);break;
                                case "ISI Minimum": $('input[name="PVT_ISIMin"]').val(row[i]);break;
                                case "ISI Maximum": $('input[name="PVT_ISIMax"]').val(row[i]);break;
                                case "Hand": $('input[name="PVT_HandUsed"]').val(row[i]);break;
                                case "Trial Length": $('input[name="PVT_TotalLength"]').val(row[i]);break;
                                case "Sleepy Pre": $('input[name="PVT_PreVAS"]').val(row[i]);break;
                                case "Sleepy Post": $('input[name="PVT_PostVAS"]').val(row[i]);break;
                                case "Good R's": $('input[name="PVT_GoodRs"]').val(row[i]);break;
                                case "Mean RT": $('input[name="PVT_MeanRT"]').val(row[i]);break;
                                case "SD RT": $('input[name="PVT_SDRT"]').val(row[i]);break;
                                case "Median RT": $('input[name="PVT_MedianRT"]').val(row[i]);break;
                                case "Minimum RT": $('input[name="PVT_MinRT"]').val(row[i]);break;
                                case "Maximum RT": $('input[name="PVT_MaxRT"]').val(row[i]);break;
                                case "Mean RRT": $('input[name="PVT_MeanRRT"]').val(row[i]);break;
                                case "SD RRT": $('input[name="PVT_SDRRT"]').val(row[i]);break;
                                case "Lapses (RT > 500ms)": $('input[name="PVT_Lapses"]').val(row[i]);break;
                                case "Lap (SQR XFRM)": $('input[name="PVT_Lap"]').val(row[i]);break;
                                case "Total Errors": $('input[name="PVT_TotalErrors"]').val(row[i]);break;
                                case "RT < 100 ms": $('input[name="PVT_RTLess100"]').val(row[i]);break;
                                case "Wrong key R's": $('input[name="PVT_WrongKey"]').val(row[i]);break;
                                case "False Starts (c)": $('input[name="PVT_FalseStartsCorrKey"]').val(row[i]);break;
                                case "False Starts (e)": $('input[name="PVT_FalseStartsInCorrKey"]').val(row[i]);break;
                                case "Key Held > 3 s": $('input[name="PVT_KeyHeld"]').val(row[i]);break;
                                case "No R for 30s": $('input[name="PVT_NoR30sec"]').val(row[i]);break;
                                case "Distrib. Asym.": $('input[name="PVT_DistribAsym"]').val(row[i]);break;
                                case "Mean F RT": $('input[name="PVT_MeanFRT"]').val(row[i]);break;
                                case "SD F RT": $('input[name="PVT_SDFRT"]').val(row[i]);break;
                                case "Mean F RRT": $('input[name="PVT_MeanFRRT"]').val(row[i]);break;
                                case "SD F RRT": $('input[name="PVT_MeanSDFRRT"]').val(row[i]);break;
                                case "Mean S RT": $('input[name="PVT_MeanSRT"]').val(row[i]);break;
                                case "SD S RT": $('input[name="PVT_SDSRT"]').val(row[i]);break;
                                case "Mean S RRT": $('input[name="PVT_MeanSRRT"]').val(row[i]);break;
                                case "SD S RRT": $('input[name="PVT_SDSRRT"]').val(row[i]);break;
                                case "RRT Slope": $('input[name="PVT_RRTSlope"]').val(row[i]);break;
                                case "RRT Intcpt": $('input[name="PVT_RRTIntcpt"]').val(row[i]);break;
                                case "RRT R2": $('input[name="PVT_RRTR2"]').val(row[i]);break;
                                case "Ci of Slope": $('input[name="PVT_CiSlope"]').val(row[i]);break;
                                case "Std Err of Line": $('input[name="PVT_STdErrOfLine"]').val(row[i]);break;
                                case "t vs Zero Slope": $('input[name="PVT_tVsZeroSlope"]').val(row[i]);break;
                                case "% Change": $('input[name="PVT_PercentChange"]').val(row[i]);break;
                            }
                        }
                    }
                });
                reader.readAsText(file);
            }
        }
    </script>
    <style>
        #D__ID .mt-95 {
            max-width: 600px;
        }

        VmInclude:__CURRENT_PATH__/wappsystem-form.css
    </style>
</div>